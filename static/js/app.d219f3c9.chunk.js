(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{134:function(e,n,a){"use strict";a.d(n,"a",(function(){return $}));var t=a(2),r=a.n(t),o=a(36),c=new o.ApolloClient({uri:"https://nim-finder-server.herokuapp.com",cache:new o.InMemoryCache}),i=a(86),u=a.n(i),s=a(77),l=a.n(s),d=a(6),m=a(126),f=a(7),h=a(133),p=a(39),g=function(e){var n=e.nama,a=e.nim,t=e.jurusan;return r.a.createElement(d.a,{style:v.container},r.a.createElement(p.a,{style:v.nama},n),r.a.createElement(p.a,{style:v.nama},a),r.a.createElement(p.a,{style:v.nama},t))},v=f.a.create({container:{flexDirection:"row"},nama:{flex:1,borderWidth:1,borderColor:"#ccc",padding:5}}),E=function(e){var n=e.data;return r.a.createElement(h.a,{data:n,ListHeaderComponent:function(){return n.length>0&&r.a.createElement(g,{nama:"Nama",nim:"NIM",jurusan:"Jurusan"})},renderItem:function(e){var n=e.item;return r.a.createElement(g,{nama:n.nama,nim:n.nimTPB+" "+n.nimJurusan,jurusan:n.fakultas+" "+n.jurusan,status:n.status})}})},y=a(123),k=function(e){var n=e.onChangeText;return r.a.createElement(d.a,null,r.a.createElement(y.a,{style:w.input,placeholder:"Ketik nama atau NIM...",onChangeText:function(e){return n(e)}}))},w=f.a.create({input:{borderWidth:1,borderColor:"#ccc",borderRadius:5,paddingHorizontal:10,paddingVertical:5,width:300}}),I=a(135),b=function(e){var n=e.onPress;return r.a.createElement(I.a,{title:"Load More",onPress:function(){return n()}})},C=function(){return r.a.createElement(p.a,null,"ITB NIM Finder")},x=a(125),j=a.n(x);function P(){var e=j()(["\n    query($keyword: String!, $first: Int!, $after: ID){\n        search(keyword: $keyword, first: $first, after: $after){\n            edges{\n                id\n                nama\n                nimTPB\n                nimJurusan\n                fakultas\n                jurusan\n                status\n            }\n            pageInfo{\n                endCursor\n                hasNextPage\n            }\n        }\n    }\n"]);return P=function(){return e},e}var T=Object(o.gql)(P()),M=function(){var e=r.a.useState(""),n=l()(e,2),a=n[0],t=n[1],c=r.a.useState(),i=l()(c,2),s=i[0],f=i[1],h=Object(o.useLazyQuery)(T),p=l()(h,2),g=p[0],v=p[1],y=v.data,w=v.loading,I=v.fetchMore;return r.a.createElement(d.a,{style:N.container},r.a.createElement(C,null),r.a.createElement(k,{onChangeText:function(e){return function(e){clearTimeout(s),""!=e&&f(setTimeout((function(){return g({variables:{keyword:e,first:20}})}),500)),t(e)}(e)}}),w?r.a.createElement(m.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{data:y&&""!=a?y.search.edges:[]}),y&&y.search.pageInfo.hasNextPage&&r.a.createElement(b,{onPress:function(){I({variables:{keyword:a,first:20,after:y.search.pageInfo.endCursor},updateQuery:function(e,n){var a=n.fetchMoreResult;return{search:{__typename:e.search.__typename,edges:[].concat(u()(e.search.edges),u()(a.search.edges)),pageInfo:a.search.pageInfo}}}})}})))},N=f.a.create({container:{padding:15}});function $(){return r.a.createElement(o.ApolloProvider,{client:c},r.a.createElement(M,null))}},138:function(e,n,a){a(139),e.exports=a(179)},139:function(e,n){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/nim-finder/expo-service-worker.js",{scope:"/nim-finder/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[138,1,2]]]);
//# sourceMappingURL=app.d219f3c9.chunk.js.map