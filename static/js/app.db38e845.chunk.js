(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{216:function(e,n,t){"use strict";t.d(n,"a",(function(){return D}));var a=t(1),r=t.n(a),o=t(45),i=new o.ApolloClient({uri:"https://owlfchiagi.execute-api.ap-southeast-1.amazonaws.com/graphql",cache:new o.InMemoryCache}),c=t(58),s=t.n(c),l=t(6),u=t.n(l),d=t(111),m=t.n(d),f=t(8),p=t(209),g=t(9),h=t(59),y=t(215),w=t(31),x=function(e){var n=e.nama,t=e.nim,a=e.jurusan;return r.a.createElement(f.a,{style:E.container},r.a.createElement(w.a,{style:E.nama},n),r.a.createElement(w.a,{style:E.nim},t),r.a.createElement(w.a,{style:E.jurusan},a))},E=g.a.create({container:{flexDirection:"row",paddingTop:10,paddingBottom:10,borderBottomWidth:1,borderBottomColor:"#ccc"},nama:{flex:5,marginRight:5},nim:{flex:3,marginRight:5},jurusan:{flex:4}}),v=t(197),b=t(218),I=function(e){var n=e.onPress;return r.a.createElement(v.a,{style:k.container,onPress:function(){return n()}},r.a.createElement(b.a,{style:k.icon,name:"down"}),r.a.createElement(w.a,{style:k.text},"Hasil lainnya"))},k=g.a.create({container:{flexDirection:"row",alignItems:"center",justifyContent:"center",alignSelf:"center",paddingVertical:5,paddingHorizontal:10,margin:10,borderWidth:1,borderColor:"#aaa",borderRadius:20},text:{color:"#555"},icon:{marginRight:5,color:"#555"}}),C=function(e){var n=e.data,t=e.onPress,a=e.loadMore,o=e.containerStyle;return r.a.createElement(y.a,{style:o,data:n,ListHeaderComponent:function(){return r.a.createElement(r.a.Fragment,null)},renderItem:function(e){var n=e.item;return r.a.createElement(x,{nama:n.nama,nim:""==n.nimJurusan?n.nimTPB:n.nimJurusan,jurusan:""==n.jurusan?n.fakultas:n.jurusan,status:n.status})},ListFooterComponent:function(){return a?r.a.createElement(I,{onPress:function(){return t()}}):null}})},T=t(206),P=t(217),B=function(e){var n=e.onChangeText,t=e.containerStyle;return r.a.createElement(f.a,{style:t},r.a.createElement(f.a,{style:j.container},r.a.createElement(P.a,{name:"search",size:15,color:"#aaa",style:j.icon}),r.a.createElement(T.a,{placeholder:"Ketik nama atau NIM...",onChangeText:function(e){return n(e)},style:j.input})))},j=g.a.create({container:{flexDirection:"row",alignItems:"center"},icon:{marginRight:10},input:{flex:1}}),S=function(){return r.a.createElement(f.a,{style:W.container},r.a.createElement(w.a,{style:W.text},"ITB NIM Finder"))},W=g.a.create({container:{alignItems:"center",paddingVertical:20},text:{fontSize:30}}),z=t(207),M=t.n(z);function R(){var e=M()(["\n    query($keyword: String!, $first: Int!, $after: ID){\n        search(keyword: $keyword, first: $first, after: $after){\n            edges{\n                id\n                nama\n                nimTPB\n                nimJurusan\n                fakultas\n                jurusan\n                status\n            }\n            pageInfo{\n                endCursor\n                hasNextPage\n            }\n        }\n    }\n"]);return R=function(){return e},e}var $=Object(o.gql)(R()),F=t(114),H=function(){var e=r.a.useState(""),n=m()(e,2),t=n[0],a=n[1],i=r.a.useState(),c=m()(i,2),l=c[0],d=c[1],g=Object(o.useLazyQuery)($),h=m()(g,2),y=h[0],w=h[1],x=w.data,E=w.loading,v=w.fetchMore;r.a.useEffect((function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap(F.a("Web accessed",{}));case 2:case"end":return e.stop()}}),null,null,null,Promise)}),[]);return r.a.createElement(f.a,{style:L.container},r.a.createElement(S,null),r.a.createElement(f.a,{style:L.roundedBox},r.a.createElement(B,{onChangeText:function(e){return function(e){clearTimeout(l),""!=e&&d(setTimeout((function(){return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return y({variables:{keyword:e,first:20}}),n.next=3,u.a.awrap(F.a("Search",{keyword:e}));case 3:d(null);case 4:case"end":return n.stop()}}),null,null,null,Promise)}),500)),a(e)}(e)},containerStyle:L.searchBar}),""==t|l?r.a.createElement(r.a.Fragment,null):E?r.a.createElement(p.a,{style:L.activity}):r.a.createElement(C,{data:x?x.search.edges:[],loadMore:x&&x.search.pageInfo.hasNextPage,onPress:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap(F.a("Load more",{keyword:t}));case 2:v({variables:{keyword:t,first:20,after:x.search.pageInfo.endCursor},updateQuery:function(e,n){var t=n.fetchMoreResult;return{search:{__typename:e.search.__typename,edges:[].concat(s()(e.search.edges),s()(t.search.edges)),pageInfo:t.search.pageInfo}}}});case 3:case"end":return e.stop()}}),null,null,null,Promise)},containerStyle:L.list})))},J=h.a.get("window"),L=g.a.create({container:{flex:1,alignItems:J.width>800?"center":"stretch",paddingHorizontal:15,paddingBottom:30},roundedBox:{borderWidth:1,borderRadius:20,paddingHorizontal:15,borderColor:"#aaa",alignItems:"stretch",width:J.width>800?800:"auto"},searchBar:{paddingTop:8,paddingBottom:8},activity:{borderTopWidth:1,borderTopColor:"#ccc",paddingVertical:20},list:{borderTopWidth:1,borderTopColor:"#ccc",paddingTop:10}});function D(){return r.a.createElement(o.ApolloProvider,{client:i},r.a.createElement(H,null))}},222:function(e,n,t){t(223),e.exports=t(364)},223:function(e,n){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/nim-finder/expo-service-worker.js",{scope:"/nim-finder/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[222,1,2]]]);
//# sourceMappingURL=app.db38e845.chunk.js.map