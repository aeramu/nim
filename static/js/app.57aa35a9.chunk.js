(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{222:function(e,n,a){"use strict";a.d(n,"a",(function(){return D}));var t=a(1),r=a.n(t),o=a(44),i=new o.ApolloClient({uri:"https://owlfchiagi.execute-api.ap-southeast-1.amazonaws.com/graphql",cache:new o.InMemoryCache}),c=a(57),s=a.n(c),l=a(6),u=a.n(l),d=a(111),m=a.n(d),f=a(7),g=a(210),p=a(8),h=a(58),y=a(221),w=a(28),x=function(e){var n=e.nama,a=e.nim,t=e.jurusan;return r.a.createElement(f.a,{style:E.container},r.a.createElement(w.a,{style:E.nama},n),r.a.createElement(w.a,{style:E.nim},a),r.a.createElement(w.a,{style:E.jurusan},t))},E=p.a.create({container:{flexDirection:"row",paddingTop:10,paddingBottom:10,borderBottomWidth:1,borderBottomColor:"#ccc"},nama:{flex:5,marginRight:5},nim:{flex:3,marginRight:5},jurusan:{flex:4}}),v=a(198),b=a(224),k=function(e){var n=e.onPress;return r.a.createElement(v.a,{style:I.container,onPress:function(){return n()}},r.a.createElement(b.a,{style:I.icon,name:"down"}),r.a.createElement(w.a,{style:I.text},"Hasil lainnya"))},I=p.a.create({container:{flexDirection:"row",alignItems:"center",justifyContent:"center",alignSelf:"center",paddingVertical:5,paddingHorizontal:10,margin:10,borderWidth:1,borderColor:"#aaa",borderRadius:20},text:{color:"#555"},icon:{marginRight:5,color:"#555"}}),T=function(e){var n=e.data,a=e.onPress,t=e.loadMore,o=e.containerStyle;return 0===n.length&&(n=[{nama:"",nimJurusan:"Tidak ada hasil",jurusan:""}]),r.a.createElement(y.a,{style:o,data:n,ListHeaderComponent:function(){return r.a.createElement(r.a.Fragment,null)},renderItem:function(e){var n=e.item;return r.a.createElement(x,{nama:n.nama,nim:""===n.nimJurusan?n.nimTPB:n.nimJurusan,jurusan:""===n.jurusan?n.fakultas:n.jurusan,status:n.status})},ListFooterComponent:function(){return t?r.a.createElement(k,{onPress:function(){return a()}}):null}})},C=a(207),P=a(223),j=function(e){var n=e.onChangeText,a=e.containerStyle;return r.a.createElement(f.a,{style:a},r.a.createElement(f.a,{style:B.container},r.a.createElement(P.a,{name:"search",size:15,color:"#aaa",style:B.icon}),r.a.createElement(C.a,{placeholder:"Ketik nama atau NIM...",onChangeText:function(e){return n(e)},style:B.input})))},B=p.a.create({container:{flexDirection:"row",alignItems:"center"},icon:{marginRight:10},input:{flex:1}}),S=function(){return r.a.createElement(f.a,{style:W.container},r.a.createElement(w.a,{style:W.text},"ITB NIM Finder"))},W=p.a.create({container:{alignItems:"center",paddingVertical:20},text:{fontSize:30}}),z=a(208),M=a.n(z);function R(){var e=M()(["\n    query($keyword: String!, $first: Int!, $after: ID){\n        search(keyword: $keyword, first: $first, after: $after){\n            edges{\n                id\n                nama\n                nimTPB\n                nimJurusan\n                fakultas\n                jurusan\n                status\n            }\n            pageInfo{\n                endCursor\n                hasNextPage\n            }\n        }\n    }\n"]);return R=function(){return e},e}var J=Object(o.gql)(R()),$=a(114),F=function(){var e=r.a.useState(""),n=m()(e,2),a=n[0],t=n[1],i=r.a.useState(),c=m()(i,2),l=c[0],d=c[1],p=Object(o.useLazyQuery)(J),h=m()(p,2),y=h[0],w=h[1],x=w.data,E=w.loading,v=w.fetchMore;r.a.useEffect((function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap($.a("Web accessed",{}));case 2:case"end":return e.stop()}}),null,null,null,Promise)}),[]);return r.a.createElement(f.a,{style:L.container},r.a.createElement(S,null),r.a.createElement(f.a,{style:L.roundedBox},r.a.createElement(j,{onChangeText:function(e){return function(e){clearTimeout(l),""!=e&&d(setTimeout((function(){return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return y({variables:{keyword:e,first:20}}),n.next=3,u.a.awrap($.a("Search",{keyword:e}));case 3:d(null);case 4:case"end":return n.stop()}}),null,null,null,Promise)}),500)),t(e)}(e)},containerStyle:L.searchBar}),""==a|l?r.a.createElement(r.a.Fragment,null):E?r.a.createElement(g.a,{style:L.activity}):r.a.createElement(T,{data:x?x.search.edges:[],loadMore:x&&x.search.pageInfo.hasNextPage,onPress:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap($.a("Load more",{keyword:a}));case 2:v({variables:{keyword:a,first:20,after:x.search.pageInfo.endCursor},updateQuery:function(e,n){var a=n.fetchMoreResult;return{search:{__typename:e.search.__typename,edges:[].concat(s()(e.search.edges),s()(a.search.edges)),pageInfo:a.search.pageInfo}}}});case 3:case"end":return e.stop()}}),null,null,null,Promise)},containerStyle:L.list})))},H=h.a.get("window"),L=p.a.create({container:{flex:1,alignItems:H.width>800?"center":"stretch",paddingHorizontal:15,paddingBottom:30},roundedBox:{borderWidth:1,borderRadius:20,paddingHorizontal:15,borderColor:"#aaa",alignItems:"stretch",width:H.width>800?800:"auto"},searchBar:{paddingTop:8,paddingBottom:8},activity:{borderTopWidth:1,borderTopColor:"#ccc",paddingVertical:20},list:{borderTopWidth:1,borderTopColor:"#ccc",paddingTop:10}});function D(){return r.a.createElement(o.ApolloProvider,{client:i},r.a.createElement(F,null))}},228:function(e,n,a){a(229),e.exports=a(376)},229:function(e,n){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/nim-finder/expo-service-worker.js",{scope:"/nim-finder/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[228,1,2]]]);
//# sourceMappingURL=app.57aa35a9.chunk.js.map