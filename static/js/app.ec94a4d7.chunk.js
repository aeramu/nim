(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{205:function(e,n,t){"use strict";t.d(n,"a",(function(){return H}));var a=t(1),r=t.n(a),o=t(44),i=new o.ApolloClient({uri:"https://owlfchiagi.execute-api.ap-southeast-1.amazonaws.com/graphql",cache:new o.InMemoryCache}),c=t(56),s=t.n(c),l=t(105),u=t.n(l),d=t(6),m=t(198),f=t(7),g=t(57),p=t(204),h=t(29),y=function(e){var n=e.nama,t=e.nim,a=e.jurusan;return r.a.createElement(d.a,{style:E.container},r.a.createElement(h.a,{style:E.nama},n),r.a.createElement(h.a,{style:E.nim},t),r.a.createElement(h.a,{style:E.jurusan},a))},E=f.a.create({container:{flexDirection:"row",paddingTop:10,paddingBottom:10,borderBottomWidth:1,borderBottomColor:"#ccc"},nama:{flex:5,marginRight:5},nim:{flex:3,marginRight:5},jurusan:{flex:4}}),w=t(187),v=t(207),x=function(e){var n=e.onPress;return r.a.createElement(w.a,{style:b.container,onPress:function(){return n()}},r.a.createElement(v.a,{style:b.icon,name:"down"}),r.a.createElement(h.a,{style:b.text},"Hasil lainnya"))},b=f.a.create({container:{flexDirection:"row",alignItems:"center",justifyContent:"center",alignSelf:"center",paddingVertical:5,paddingHorizontal:10,margin:10,borderWidth:1,borderColor:"#aaa",borderRadius:20},text:{color:"#555"},icon:{marginRight:5,color:"#555"}}),I=function(e){var n=e.data,t=e.onPress,a=e.loadMore,o=e.containerStyle;return r.a.createElement(p.a,{style:o,data:n,ListHeaderComponent:function(){return r.a.createElement(r.a.Fragment,null)},renderItem:function(e){var n=e.item;return r.a.createElement(y,{nama:n.nama,nim:""==n.nimJurusan?n.nimTPB:n.nimJurusan,jurusan:""==n.jurusan?n.fakultas:n.jurusan,status:n.status})},ListFooterComponent:function(){return a?r.a.createElement(x,{onPress:function(){return t()}}):null}})},C=t(196),T=t(206),k=function(e){var n=e.onChangeText,t=e.containerStyle;return r.a.createElement(d.a,{style:t},r.a.createElement(d.a,{style:B.container},r.a.createElement(T.a,{name:"search",size:15,color:"#aaa",style:B.icon}),r.a.createElement(C.a,{placeholder:"Ketik nama atau NIM...",onChangeText:function(e){return n(e)},style:B.input})))},B=f.a.create({container:{flexDirection:"row",alignItems:"center"},icon:{marginRight:10},input:{flex:1}}),j=function(){return r.a.createElement(d.a,{style:P.container},r.a.createElement(h.a,{style:P.text},"ITB NIM Finder"))},P=f.a.create({container:{alignItems:"center",paddingVertical:20},text:{fontSize:30}}),S=t(197),z=t.n(S);function M(){var e=z()(["\n    query($keyword: String!, $first: Int!, $after: ID){\n        search(keyword: $keyword, first: $first, after: $after){\n            edges{\n                id\n                nama\n                nimTPB\n                nimJurusan\n                fakultas\n                jurusan\n                status\n            }\n            pageInfo{\n                endCursor\n                hasNextPage\n            }\n        }\n    }\n"]);return M=function(){return e},e}var R=Object(o.gql)(M()),W=function(){var e=r.a.useState(""),n=u()(e,2),t=n[0],a=n[1],i=r.a.useState(),c=u()(i,2),l=c[0],f=c[1],g=Object(o.useLazyQuery)(R),p=u()(g,2),h=p[0],y=p[1],E=y.data,w=y.loading,v=y.fetchMore;return r.a.createElement(d.a,{style:F.container},r.a.createElement(j,null),r.a.createElement(d.a,{style:F.roundedBox},r.a.createElement(k,{onChangeText:function(e){return function(e){clearTimeout(l),""!=e&&f(setTimeout((function(){h({variables:{keyword:e,first:20}}),f(null)}),500)),a(e)}(e)},containerStyle:F.searchBar}),""==t|l?r.a.createElement(r.a.Fragment,null):w?r.a.createElement(m.a,{style:F.activity}):r.a.createElement(I,{data:E?E.search.edges:[],loadMore:E&&E.search.pageInfo.hasNextPage,onPress:function(){v({variables:{keyword:t,first:20,after:E.search.pageInfo.endCursor},updateQuery:function(e,n){var t=n.fetchMoreResult;return{search:{__typename:e.search.__typename,edges:[].concat(s()(e.search.edges),s()(t.search.edges)),pageInfo:t.search.pageInfo}}}})},containerStyle:F.list})))},$=g.a.get("window"),F=f.a.create({container:{flex:1,alignItems:$.width>800?"center":"stretch",paddingHorizontal:15,paddingBottom:30},roundedBox:{borderWidth:1,borderRadius:20,paddingHorizontal:15,borderColor:"#aaa",alignItems:"stretch",width:$.width>800?800:"auto"},searchBar:{paddingTop:8,paddingBottom:8},activity:{borderTopWidth:1,borderTopColor:"#ccc",paddingVertical:20},list:{borderTopWidth:1,borderTopColor:"#ccc",paddingTop:10}});function H(){return r.a.createElement(o.ApolloProvider,{client:i},r.a.createElement(W,null))}},210:function(e,n,t){t(211),e.exports=t(348)},211:function(e,n){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/nim-finder/expo-service-worker.js",{scope:"/nim-finder/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[210,1,2]]]);
//# sourceMappingURL=app.ec94a4d7.chunk.js.map